[
    {
        "title": "歡迎頁面",
        "content": "# 歡迎使用 Markdown 預覽器！\n\n這是一個 **靜態** 的 Markdown 內容顯示頁面。內容是直接從程式碼渲染的。\n\n點擊上方的 **分頁** 來切換不同的內容。您也可以使用右上角的 **行距** 按鈕來調整閱讀舒適度。"
    },
    {
        "title": "功能特色",
        "content": "## 功能特色\n- **分頁系統**：將不同主題的內容組織在獨立的分頁中。\n- **行距調整**：提供緊湊、預設、寬鬆三種行距，方便閱讀。\n- **乾淨的呈現**：專注於閱讀體驗，沒有編輯框。\n- **語法支援**：支援所有標準的 Markdown 語法。\n- **後端定義內容**：您可以直接在 HTML 檔案的 `markdownPages` 陣列中新增或修改頁面。"
    },
    {
        "title": "Tenable",
        "content": "好的，完全無問題。我哋將每一個步驟拆解到最詳細，包含具體嘅點擊位置同埋欄位填寫建議。\n\n假設你已經準備好登入 Tenable 同 CyberArk PVWA 嘅管理員帳戶。\n\n---\n\n### 第一步：準備證書 (Certificate Preparation) - 極詳細版\n\n呢一步嘅目標係產生兩個檔案：一個係俾 Tenable 用嘅 `.pfx`（包含私鑰），另一個係俾 CyberArk 識別用嘅 `.cer`（只有公鑰）。我哋以最常見嘅 **Microsoft Certificate Authority (CA)** 為例。\n\n#### 1.1 透過網頁申請證書\n\n1.  **打開瀏覽器**，前往你公司內部 Microsoft CA 嘅網頁伺服器。網址通常係：\n    `http://<your-ca-server-ip-or-hostname>/certsrv/`\n2.  **登入** 你的網域帳戶。\n3.  在主頁面，點擊 **\"Request a certificate\"**。\n4.  下一頁，點擊 **\"advanced certificate request\"**。\n5.  在 \"Certificate Template\" 下拉菜單中，選擇一個允許 **\"Client Authentication\"** 且允許 **私鑰匯出** 的模板。通常模板名稱會包含 \"User\" 或 \"Computer\" 或 \"Web Server\"。如果你唔確定，請諮詢你嘅 PKI 管理員。\n6.  **填寫證書申請資料**：\n    * **Name:** 輸入一個有意義嘅名稱，呢個會成為證書嘅 **Common Name (CN)**。**呢個 CN 非常重要，CyberArk 會用佢嚟認證**。\n        * *範例：* `tenable.scanner.prod`\n    * **Key Options:**\n        * 勾選 **\"Mark key as exportable\"**。**呢個係必須步驟**，如果唔勾選，你將無法匯出 `.pfx` 檔案。\n        * Key Size 建議選擇 `2048` 或更高。\n7.  點擊 **\"Submit\"** 提交申請。如果設定正確，CA 會簽發證書。\n8.  點擊 **\"Install this certificate\"** 將證書安裝到你目前電腦嘅用戶證書庫。\n\n#### 1.2 匯出包含私鑰的證書 (.pfx)\n\n1.  喺 Windows，按 `Win + R`，輸入 `certmgr.msc` 並按 Enter，打開證書管理員。\n2.  喺左邊導覽窗格，展開 `Personal` -> `Certificates`。\n3.  喺右邊清單，搵到你啱啱申請嘅證書（根據 `Issued To` 欄位嘅 CN 識別）。\n4.  右鍵點擊該證書 -> `All Tasks` -> `Export...`。\n5.  **Certificate Export Wizard** 會啟動：\n    * 第一頁，點擊 `Next`。\n    * **Export Private Key:** 選擇 **\"Yes, export the private key\"**。點擊 `Next`。\n    * **Export File Format:** 保持預設選項 (`Personal Information Exchange - PKCS #12 (.PFX)`)，並勾選 `Include all certificates in the certification path if possible`。點擊 `Next`。\n    * **Security:** 勾選 `Password`，然後 **設定一個強度高嘅密碼**。**請務必記低呢個密碼**，因為喺 Tenable 設定時需要輸入。點擊 `Next`。\n    * **File to Export:** 點擊 `Browse...`，選擇一個安全嘅位置儲存，並將檔案命名為例如 `Tenable_Client_Key.pfx`。點擊 `Next`。\n    * 最後一頁，確認設定無誤後，點擊 `Finish`。你會收到「The export was successful.」嘅訊息。\n\n#### 1.3 匯出只有公鑰的證書 (.cer)\n\n1.  重複 **1.2** 嘅步驟 1 到 4。\n2.  喺 **Certificate Export Wizard** 啟動後：\n    * 第一頁，點擊 `Next`。\n    * **Export Private Key:** 今次選擇 **\"No, do not export the private key\"**。點擊 `Next`。\n    * **Export File Format:** 選擇 **\"Base-64 encoded X.509 (.CER)\"**。點擊 `Next`。\n    * **File to Export:** 點擊 `Browse...`，將檔案命名為例如 `Tenable_Client_PublicKey.cer`。點擊 `Next`。\n    * 點擊 `Finish` 完成匯出。\n\n**到此，你手上應該有兩個檔案：`Tenable_Client_Key.pfx` 和 `Tenable_Client_PublicKey.cer`。第一步完成。**\n\n---\n\n### 第二步：設定 CyberArk (CyberArk Configuration) - 極詳細版\n\n呢一步嘅目標係話俾 CyberArk 知：「有一個叫做『Tenable』嘅應用程式，佢會用特定 CN 嘅證書嚟同我溝通，請你信任佢，並俾佢攞密碼。」\n\n#### 2.1 建立應用程式 ID (Application ID)\n\n1.  用有管理權限嘅帳戶登入 **PVWA**。\n2.  喺左邊菜單，點擊 **\"Applications\"** 圖標。\n3.  喺右上角，點擊藍色嘅 **\"Add Application\"** 按鈕。\n4.  **填寫基本資料**：\n    * **Application Name:** 用一個標準化、有意義嘅名。\n        * *範例：* `App-TenableScanner-Cert`\n    * **Description:** 詳細描述用途。\n        * *範例：* `Application ID for Tenable.sc scanners using certificate-based authentication.`\n    * **Business owner information:** 根據公司政策填寫。\n5.  點擊 **\"Add\"**。應用程式 ID 建立完成，你會被導向到佢嘅詳細設定頁面。\n\n#### 2.2 設定認證方式 (Authentication Method)\n\n1.  喺 App ID 嘅詳細頁面，你會見到幾個分頁 (`Details`, `Authentication`, `Allowed Machines` 等)。點擊 **\"Authentication\"** 分頁。\n2.  你會見到唔同嘅認證方法。我哋關心嘅係 **\"Certificate\"**。\n3.  喺 **\"Certificate\"** 認證方法下方，你會睇到一個屬性列表。我哋要設定嘅係：\n    * **`Restrict to specific common name(s)`**: 點擊右邊嘅 `Add`。喺彈出嘅對話框中，輸入你喺第一步證書上設定嘅 **Common Name (CN)**。\n        * *範例：* `tenable.scanner.prod`\n    * **`Allow internal scripts to request credentials for this application ID`**: 確保呢個選項係 `Yes`。\n4.  點擊頁面右下角嘅 **\"Save\"** 按鈕保存設定。\n\n#### 2.3 設定允許的主機 (Allowed Machines)\n\n1.  導航到 **\"Allowed Machines\"** 分頁。呢個係一個額外嘅安全層，限制邊啲機器可以用呢個 App ID。\n2.  點擊 **\"Add\"**。\n3.  喺 `Address` 欄位，輸入你 Tenable Scanner 嘅 IP 地址、主機名或 IP 範圍。建議用 IP 地址最準確。\n4.  點擊 **\"Save\"**。\n\n#### 2.4 授權存取金庫 (Grant Safe Permissions)\n\n1.  喺左邊菜單，點擊 **\"Policies\"** -> **\"Safes\"**。\n2.  搵到存放你掃描用帳戶嘅 Safe，點擊進入。\n3.  喺 Safe 嘅詳細頁面，點擊左邊嘅 **\"Members\"** 部分。\n4.  點擊右上角嘅 **\"Add Member\"** 按鈕。\n5.  喺搜尋框，輸入你喺 **2.1** 建立嘅 App ID 名稱 (`App-TenableScanner-Cert`)，然後點擊搜尋。\n6.  喺搜尋結果中選中你嘅 App ID，然後點擊 `Next`。\n7.  **最重要嘅一步：分配權限**。勾選以下權限：\n    * **`Retrieve accounts`** (必須)：允許 App ID 提取密碼。\n    * **`List accounts`** (建議)：允許 App ID 查看 Safe 中嘅帳戶列表。\n    * `View Safe Members` (可選，方便排錯)。\n8.  點擊 **\"Add\"**。\n\n**至此，CyberArk 已設定完成。佢已經準備好接受嚟自 Tenable 嘅證書認證請求。**\n\n---\n\n### 第三步：設定 Tenable (Tenable.sc / Tenable.io) - 極詳細版\n\n呢一步嘅目標係喺 Tenable 建立一個新嘅 CyberArk 憑證設定，並上傳 `.pfx` 證書。\n\n1.  **登入 Tenable.sc 或 Tenable.io**。\n2.  **導航至憑證管理**：\n    * **Tenable.sc:** `Scans` -> `Credentials`。\n    * **Tenable.io:** `Settings` -> `Credentials`。\n3.  點擊右上角嘅 **\"+ Add Credential\"** 按鈕。\n4.  喺左邊嘅憑證類型清單，向下滾動到 **\"Privilege Escalation\"** 類別，然後選擇 **\"CyberArk\"**。\n5.  **詳細填寫每一個欄位**：\n    * **Name:** 俾佢一個清晰嘅名，以便喺掃描策略中選用。\n        * *範例：* `CyberArk Credential (Cert Auth)`\n    * **CyberArk Provider URL (CCP URL):** 填寫 CyberArk CCP 嘅完整 API 網址。\n        * *格式：* `https://<ccp-server-hostname>/AIMWebService/api/Accounts`\n        * *Pro-Tip:* 先喺瀏覽器試下開呢個網址，睇下會唔會見到 XML 或 JSON 嘅回應，以確認網址同網絡連線正確。\n    * **Application ID:** 輸入你喺 CyberArk **2.1** 建立嘅 **App ID 名稱**。必須完全一致。\n        * *範例：* `App-TenableScanner-Cert`\n    * **Authentication Method:** **呢個係最關鍵嘅設定**。點擊下拉菜單，將預設嘅 `Username/Password` 改為 **`Client Certificate`**。\n    * **Client Certificate:** 點擊 **\"Choose File\"**，然後上傳你喺 **1.2** 產生嘅 **`.pfx`** 檔案 (`Tenable_Client_Key.pfx`)。\n    * **Certificate Password:** 輸入你喺匯出 `.pfx` 檔案時所設定嘅密碼。\n    * **CA Certificate (Optional but Highly Recommended):** 如果你嘅 CCP 伺服器用緊內部 CA 簽發嘅 SSL 證書，Tenable 系統可能唔信任佢。你需要喺度上傳你公司嘅 Root CA 公鑰證書 (`.cer` 檔)，以解決 SSL/TLS 信任問題。\n6.  仔細檢查所有資料無誤後，點擊右下角嘅 **\"Save\"** 按鈕。\n\n---\n\n### 第四步：驗證與除錯 (Verification & Debugging)\n\n設定完成唔代表大功告成，必須驗證。\n\n1.  **建立一個測試掃描策略**：\n    * 建立一個新嘅 `Basic Network Scan` 策略。\n    * **Targets:** 只填寫一部你確定可以登入嘅伺服器 IP。\n    * **Credentials:** 選擇目標伺服器對應嘅憑證 (例如 `Windows` 或 `SSH`)。\n    * **Privilege Escalation:** 喺下拉菜單中，選擇你喺第三步建立嘅 **`CyberArk Credential (Cert Auth)`**。\n2.  **執行掃描並分析結果**：\n    * 掃描完成後，查看結果。\n    * 如果成功，你應該會睇到 Plugin ID **`19506 - Authentication Success`**。呢個插件證明 Tenable 成功透過 CyberArk 攞到密碼並登入咗目標。\n    * 如果失敗，你可能會睇到 Plugin ID **`21745 - Authentication Failure`**。\n3.  **除錯貼士**：\n    * **SSL/TLS 錯誤:** 通常係 Tenable 唔信任 CCP 伺服器證書。請喺 Tenable 憑證設定中上傳 CA 證書。同時檢查防火牆有冇阻擋 `443` 端口。\n    * **CyberArk 回應 401/403 (Unauthorized/Forbidden):**\n        * 檢查 Tenable 中嘅 App ID 名稱同 CyberArk 中嘅係咪完全一樣。\n        * 檢查證書 CN 同 CyberArk 中設定嘅係咪一樣。\n        * 檢查 Tenable Scanner 嘅 IP 係咪喺 CyberArk App ID 嘅 \"Allowed Machines\" 列表入面。\n    * **CyberArk 回應 500 (Internal Server Error) 或 \"Account not found\":**\n        * 檢查 App ID 係咪已經被授權存取對應嘅 Safe (`Retrieve accounts` 權限)。\n        * 確認你要攞嘅帳戶真係存在於該 Safe 之中。\n\n希望呢個極詳細嘅指南可以幫到你順利完成設定！"
    }
]
